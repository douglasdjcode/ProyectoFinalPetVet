{% extends "app_vete/base.html" %}
{% load static %}

{% block title %} 
Pet Vet | Perfil de {{ user.username }}
{% endblock %} 

{% block content %}

{% if messages %}
<div class="container my-3 text-center">
    {% for message in messages %}
        <div class="alert alert-success border border-success-subtle rounded-pill py-2 px-4 mx-auto" style="max-width: 600px;">
            {{ message }}
        </div>
    {% endfor %}
</div>
{% endif %}


<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white text-center">
                    <h3>Perfil de Usuario</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 text-center">
                            <img src="{% if user.perfil.imagen %}{{ user.perfil.imagen.url }}{% else %}{% static 'app_vete/assets/img/default-avatar.jpg' %}{% endif %}" alt="Avatar" class="rounded-circle mb-3" width="150" style="object-fit: cover; height: 150px;">
                            <h4 class="mt-3">{{ user.first_name }} {{ user.last_name }}</h4>
                        </div>
                        <div class="col-md-8">
                            <table class="table">
                                <tbody>
                                    <tr>
                                        <th>Nombre de Usuario:</th>
                                        <td>{{ user.username }}</td>
                                    </tr>
                                    <tr>
                                        <th>Correo Electrónico:</th>
                                        <td>{{ user.email }}</td>
                                    </tr>
                                    <tr>
                                        <th>Fecha de Registro:</th>
                                        <td>{{ user.date_joined|date:"d M Y" }}</td>
                                    </tr>
                                    <tr>
                                        <th>Última Conexión:</th>
                                        <td>{{ user.last_login|date:"d M Y H:i" }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="card-footer text-center">
                    <a href="{% url 'editar-perfil' %}" class="btn btn-primary me-2">Editar Perfil</a>
                    <a href="{% url 'cambiar-contraseña' %}" class="btn btn-primary me-2">Cambiar Contraseña</a>
                    <a class="btn btn-warning me-2" href="{% url 'inicio' %}">Volver</a>

                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
